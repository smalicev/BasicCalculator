<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Document</title>
</head>
<body>

    

  <div class = 'layoutcontainer'>
    <p>Srdjan Malicevic's Basic Calculator</p>
    <p>For the Odin Project</p>

 
  <div class ='calccontainer'>
 <div class ='display'>
    <p></p>
  </div>
  <div class = 'row'>
      <button id ='7'class = 'num'>7</button>
    <button id ='8'class = 'num'>8</button>
    <button id ='9'class = 'num'>9</button>  
    <button id ='add' class = 'oper'>+</button>
  </div>

  <div class ='row'>
    <button id = '4'class = 'num'>4</button>
    <button id = '5'class = 'num'>5</button>
    <button id = '6'class = 'num'>6</button>
    <button id ='subtract' class = 'oper'>-</button>

  </div>

  <div class ='row'>
    <button id = '1'class = 'num'>1</button>
    <button id = '2'class = 'num'>2</button>
    <button id = '3'class = 'num'>3</button>
    <button id ='multiply' class = 'oper'>*</button>
  </div>

  <div class ='row'>
    <button id = 'divide' class = 'oper'>/</button>
    <button id = '0'class = 'num'>0</button>
    <button id = 'equal'>=</button>
  </div>

  <div class ='row'>
    <button id = 'power'class = 'oper'>^</button>
    <button id = 'factorial'class = 'oper'>!</button>
    <button id = 'clear' class = 'clear'>C</button>
  </div>
</div>
</div>  
</body>

<script>


const a = 3
const b = 4


const operbuttons = document.querySelectorAll('.oper');
const equaldisp = document.querySelector('#equal');
const display = document.querySelector('.display');
const numbers = document.querySelectorAll('.num');
const displayresult = document.createElement('div');
const clearall = document.querySelector('#clear');
displayresult.classList.add('displayresult');


clearall.addEventListener('click', function(e){
  display.innerText = '';
  num1 =null;
  num2 =null;
  console.log(num1);
  console.log(num2);

});

/*equaldisp.addEventListener('click', function(e){
  display.innerText = result;
});*/


/*operbuttons.forEach(function(oper){
oper.addEventListener('click', function(e){
  display.innerText = display.innerText + event.target.innerText;
}); WHY is display inner text undefined in equal function
});*/

numbers.forEach(function(button){
  button.addEventListener('click', function(e){
    display.innerText = display.innerText + event.target.id;
  });
});


operbuttons.forEach(function(oper){
    oper.addEventListener('click',function(e){
      num1 = display.innerText;
      console.log(num1);
      display.innerText = '';
      op = event.target.id;
      return num1;
    })
});
   
equaldisp.addEventListener('click',function(e){
  console.log(display.innerText);
  num2 = display.innerText;
  console.log(num1);
  console.log(num2);
  console.log(op);
  console.log(operations[op](+num1,+num2));
  result = operations[op](+num1,+num2);
  display.innerText = result;
})

    let operations = {
      add: function(a, b) {
	          return a + b;
          },
      multiply: function(a,b){
          return a * b;
          },
      subtract: function(a, ...b) {
            return a - b;
      },
      power: function(a,b){
        return a ** b;
      },
      divide: function (a,b){
        return a / b;
      },
      factorial: function (a){
        let rval=1;
        for (var i = 2; i <= a; i++)
                rval = rval * i;
        return rval
      },
};


const sum = function(...sum) {
	summed = sum.reduce(totalSum);

  function totalSum(total,currentValue){
    return total + currentValue;
  };
  return summed;
};

const multiply = function(...mult) {
  multiplied = mult.reduce(totalProd)

  function totalProd(total,currentValue){
    return total * currentValue;
  }
  return multiplied;
};

const power = function(a,b) {
  c = a ** b;
  return c;
	
};
</script>
</html>